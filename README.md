
# 選挙ポスター掲示場所のPDFをcsvに変換するPythonスクリプト

こちらの[Webスクレイビング](https://github.com/auco67/web-scraping)から得られた選挙ポスター掲示場所の「一覧表」のPDFを引数として、csvを返すPythonスクリプト。

csvには
```
場所,説明,緯度,経度
```
が出力される。緯度と経度は国土地理院のAPIを使用している。

現状の対象のページは以下

[東大阪市ポスター掲示場の設置場所及び一覧(衆議院議員総選挙及び最高裁判所裁判官国民審査)](https://www.city.higashiosaka.lg.jp/0000038692.html#:~:text=%E3%83%9D%E3%82%B9%E3%82%BF%E3%83%BC%E6%8E%B2%E7%A4%BA%E5%A0%B4%E3%81%AE%E8%A8%AD%E7%BD%AE%E5%A0%B4%E6%89%80%E5%8F%8A%E3%81%B3%E4%B8%80%E8%A6%A7%28%E8%A1%86%E8%AD%B0%E9%99%A2%E8%AD%B0%E5%93%A1%E7%B7%8F%E9%81%B8%E6%8C%99%20...%20,%E6%9B%B4%E6%96%B0%E6%97%A5%EF%BC%9A2025%E5%B9%B45%E6%9C%8812%E6%97%A5%5D%3B%20ID%3A38692)


## 使い方

requirements.txtに書かれているPythonライブラリをインストールする。Ubuntuなら
```bash
$ pip install -r requirements.txt
```

`pdf2csv_byOpenRouter.py`の`api_key`に取得したAPIKEYを代入

その後、読み込みたいPDFと出力パスを指定して実行
```bash
$ python pdf2csv_byOpenRouter.py itiran.pdf itiran.csv
```

例として`itiran.pdf`が置いてある。

出力されるcsvの例：
```csv
場所,説明,緯度,経度
善根寺町1丁目3番,個人宅 西側モータープール 北側 杭,34.700096,135.649628
善根寺町3丁目3番,善根寺児童遊園 南側 網,34.698704,135.64241
善根寺町4丁目8番3号,元丸二倉庫 南側 水路 柵,34.701267,135.640976
善根寺町5丁目3番,象印マホービン(株) 西側 柵,34.701569,135.645248
善根寺町5丁目4番,象印マホービン(株) 南側 網,34.701561,135.646439
善根寺町5丁目6番,善根寺会館北側水路柵 北側 柵,34.699883,135.646454
善根寺町6丁目1番32号,個人宅 南側 ブロック,34.700111,135.648407
布市町1丁目7番32号,個人宅 南側 ブロック,34.693993,135.640518
布市町1丁目9番1号,個人宅 南側 杭,34.694321,135.641891
布市町2丁目1番40号,株式会社リサイクル 東側 塀,34.690704,135.639389
布市町2丁目5番37号,布市自治会館 東側 網,34.693283,135.639481
布市町3丁目5番34号,個人宅 北側 ブロック,34.693481,135.635666
元町2丁目5番18号,元町自治会館 南側 南側 網,43.858906,144.460236
布市町4丁目1番,フクビ化学工業南側網(市管理地) 南側 網,34.695904,135.640244
日下町4丁目1番,日下第3公園 北側 柵,34.69083,135.643082
...
```




